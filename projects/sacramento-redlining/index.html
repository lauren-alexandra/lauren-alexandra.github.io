<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Sacramento Redlining | Lauren Alexandra </title> <meta name="author" content="Lauren Alexandra"> <meta name="description" content="Greenspace Analysis"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%AA&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://lauren-alexandra.github.io/projects/sacramento-redlining/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Sacramento Redlining</h1> <p class="post-description">Greenspace Analysis</p> </header> <article> <div class="row" style="margin-top: 20px; margin-bottom: 20px; margin-left: 10px; margin-right: 10px;"> <img src="/assets/img/sac_redlining/sac-aerial.png" alt="Sacramento Aerial Landscape" width="100%" height="100%" longdesc="https://www.photopilot.com/blog/downtown-sacramento-california-state-capital"> </div> <h4 id="introduction">Introduction</h4> <p>During the mid-late 1930s in the United States, redlining maps proliferated and became common practice in lending decisions until the 1968 Fair Housing Act formally banned explicit racial discrimination in mortgage lending (Michney, n.d.). The best preserved maps of that era are the Home Owners’ Loan Corporation (HOLC) security maps created through its City Survey from 1935 to 1940. HOLC was established through the New Deal to support homeowners in the decimated housing market. The HOLC Mortgage Rehabilitation Department (MRD) aimed to meet that objective while minimizing an additional bailout of underwater mortgages. Field agents surveyed municipalities with populations over 40,000, 239 cities in total including Sacramento, California, and assembled reports on the health of a city’s real estate market.</p> <p>HOLC surveys equated the physical characteristics of a built environment with the racial and economic attributes of building residents. Physical deterioration was perceived as a sign of demographic change. The HOLC rating system distinguished neighborhoods by grade and color: A or green areas consisted of new buildings and wealthy, white residents; B or blue areas may have incorporated Jewish residents and were “still desirable”; C or yellow areas were described as in decline; and D or red areas had already “declined” and been deemed hazardous for lending, with even a single Black resident relegating a neighborhood to this grade (Zimring, 2015). These maps enabled HOLC and the Federal Housing Authority to issue insured mortgages to white people living in homogenous developments of new, clean homes. Racial segregation was amplified further in the 20th century with waste handling businesses clustered in non-white residential areas and spatial environmental inequalities emerging by 1960.</p> <h4 id="data-description">Data Description</h4> <p>The <a href="doi:10.5067/HLS/HLSL30.002">HLSL30 v002</a> product provides 30-m Nadir Bidirectional Reflectance Distribution Function (BRDF)-Adjusted Reflectance (NBAR) and is derived from Landsat 8/9 Operational Land Imager (OLI) data products through the Harmonized Landsat Sentinel-2 (HLS) project. The sensor resolution is 30m, imagery resolution is 30m, and the temporal resolution is daily with an 8 day revisit time.</p> <p>The <a href="https://dsl.richmond.edu/panorama/redlining/data/CA-Sacramento" rel="external nofollow noopener" target="_blank">Sacramento subset</a> of the Mapping Inequality dataset is derived from <a href="https://catalog.archives.gov/id/720357" rel="external nofollow noopener" target="_blank">City Survey Files, 1935-1940</a> at the National Archives. The data contains redlining maps and reports of economic health and mortgage lending risk by location.</p> <h4 id="data-citation">Data Citation</h4> <p>Madron, J., Champine, R., Dzuliashvili, Z., Encino, R., Holland, J., Jones, K., … Kliebert, P. (2023). <em>Mapping inequality: Redlining in New Deal America</em> (3) [Data set]. University of Richmond. https://dsl.richmond.edu/panorama/redlining/static/mappinginequality.gpkg</p> <p>NASA. (2024). <em>HLSL30 v002</em> [Data set]. http://doi.org/10.5067/HLS/HLSL30.002</p> <h4 id="methods">Methods</h4> <p>The <a href="https://dsl.richmond.edu/panorama/redlining/static/mappinginequality.gpkg" rel="external nofollow noopener" target="_blank">redlining GeoPackage</a> was loaded into a GeoDataFrame with <a href="https://geopandas.org/" rel="external nofollow noopener" target="_blank">geopandas</a> and subset for the city of Sacramento. <a href="https://earthaccess.readthedocs.io/en/latest/" rel="external nofollow noopener" target="_blank">earthaccess</a> (a library for NASA’s Search API) retrieved data granules by dataset (HLSL30) and limited the scope to a single day in 2024 and the spatial bounds collected from the redlining GeoDataFrame. Next the landsat data was filtered by band and stored in a <a href="https://pandas.pydata.org/docs/reference/index.html" rel="external nofollow noopener" target="_blank">pandas</a> DataFrame. Data granules were grouped by tile ID, subset to red, green, and NIR bands, cropped, scaled, masked, and merged before storing the resulting <a href="https://docs.xarray.dev/" rel="external nofollow noopener" target="_blank">xarray</a> DataArrays in a dictionary indexed by band.</p> <p>Normalized Difference Vegetation Index (NDVI) was calculated with band DataArrays. The <a href="https://regionmask.readthedocs.io/" rel="external nofollow noopener" target="_blank">regionmask</a> library created a mask of the HOLC zones from the redlining GeoDataFrame and the longitude and latitude sourced from a band DataArray. Thereafter, NDVI summary statistics were calculated for each zone using the NDVI DataArray and redlining mask with <a href="https://xarray-spatial.readthedocs.io/en/stable/" rel="external nofollow noopener" target="_blank">xarray-spatial</a>. Statistics were merged on the zone with the redlining GeoDataFrame and the HOLC grades were ordered for plotting. NDVI and redlining grade were plotted in linked subplots using the <a href="https://hvplot.holoviz.org/" rel="external nofollow noopener" target="_blank">hvplot API</a>. A scikit-learn <a href="https://scikit-learn.org/1.5/modules/generated/sklearn.tree.DecisionTreeClassifier.html" rel="external nofollow noopener" target="_blank">decision tree</a> was then applied to predict HOLC grade by NDVI average and evaluated by <em>k</em>-fold cross-validation. Finally, the grade prediction error by zone was determined and plotted.</p> <h4 id="analysis">Analysis</h4> <p>Import Libraries</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">pathlib</span>
<span class="kn">import</span> <span class="n">re</span> 

<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span> 
<span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">geopandas</span> <span class="k">as</span> <span class="n">gpd</span> 
<span class="kn">import</span> <span class="n">hvplot.pandas</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="n">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span> <span class="n">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_val_score</span>

<span class="c1"># Work with raster data
</span><span class="kn">import</span> <span class="n">xarray</span> <span class="k">as</span> <span class="n">xr</span>
<span class="kn">import</span> <span class="n">rioxarray</span> <span class="k">as</span> <span class="n">rxr</span>
<span class="kn">from</span> <span class="n">rioxarray.merge</span> <span class="kn">import</span> <span class="n">merge_arrays</span>
<span class="kn">import</span> <span class="n">cartopy.crs</span> <span class="k">as</span> <span class="n">ccrs</span> 
<span class="kn">import</span> <span class="n">regionmask</span>
<span class="kn">from</span> <span class="n">xrspatial</span> <span class="kn">import</span> <span class="n">zonal_stats</span>

<span class="kn">import</span> <span class="n">earthaccess</span>
</code></pre></div></div> <p>Retrieve Redlining Data</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># create the project data directory
</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span>
    <span class="c1"># Home directory
</span>    <span class="n">pathlib</span><span class="p">.</span><span class="n">Path</span><span class="p">.</span><span class="nf">home</span><span class="p">(),</span>
    <span class="c1"># Earth analytics data directory
</span>    <span class="sh">'</span><span class="s">earth-analytics</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">data</span><span class="sh">'</span><span class="p">,</span>
    <span class="c1"># Project directory
</span>    <span class="sh">'</span><span class="s">redlining</span><span class="sh">'</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">os</span><span class="p">.</span><span class="nf">makedirs</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Define url for redlining download
</span><span class="n">us_census_redlining_url</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sh">"</span><span class="s">https://dsl.richmond.edu/panorama/redlining/static</span><span class="sh">"</span>
    <span class="sh">"</span><span class="s">/mappinginequality.gpkg</span><span class="sh">"</span>
<span class="p">)</span>

<span class="c1"># Set up a path to save the data locally
</span><span class="n">redlining_dir</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="sh">'</span><span class="s">redlining</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># Make the U.S. Census Survey directory
</span><span class="n">os</span><span class="p">.</span><span class="nf">makedirs</span><span class="p">(</span><span class="n">redlining_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Join redlining geopackage path
</span><span class="n">redlining_map_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">redlining_dir</span><span class="p">,</span> <span class="sh">'</span><span class="s">redlining.shp</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># Only download once and create GeoDataFrame
</span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">redlining_map_path</span><span class="p">):</span>
    <span class="n">redlining_gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="p">.</span><span class="nf">read_file</span><span class="p">(</span><span class="n">us_census_redlining_url</span><span class="p">)</span>
    <span class="n">redlining_gdf</span><span class="p">.</span><span class="nf">to_file</span><span class="p">(</span><span class="n">redlining_map_path</span><span class="p">)</span>

<span class="c1"># Load from file
</span><span class="n">redlining_gdf</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">gpd</span><span class="p">.</span><span class="nf">read_file</span><span class="p">(</span><span class="n">redlining_map_path</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Select city data 
</span><span class="n">sacramento_redlining_gdf</span> <span class="o">=</span> <span class="n">redlining_gdf</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">redlining_gdf</span><span class="p">[</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">Sacramento</span><span class="sh">'</span><span class="p">]</span>

<span class="c1"># Drop rows where column 'grade' is None
</span><span class="n">grade_gdf</span><span class="o">=</span> <span class="n">sacramento_redlining_gdf</span><span class="p">.</span><span class="nf">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">grade</span><span class="sh">'</span><span class="p">])</span>

<span class="c1"># dissolve all the geometries within a given group (city) into a single geometric feature
# plot with EsriImagery basemap  
</span><span class="n">grade_gdf</span><span class="p">.</span><span class="nf">hvplot</span><span class="p">(</span>
    <span class="n">geo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tiles</span><span class="o">=</span><span class="sh">'</span><span class="s">EsriImagery</span><span class="sh">'</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="sh">'</span><span class="s">HOLC Redlining of Sacramento</span><span class="sh">'</span><span class="p">,</span>
    <span class="n">c</span><span class="o">=</span><span class="sh">"</span><span class="s">grade</span><span class="sh">"</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="sh">'</span><span class="s">darkgrey</span><span class="sh">'</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">frame_width</span><span class="o">=</span><span class="mi">550</span>
<span class="p">)</span>
</code></pre></div></div> <div class="row" style="margin-top: 20px; margin-bottom: 20px; margin-left: 10px; margin-right: 10px;"> <img src="/assets/img/sac_redlining/holc_redlining.png" alt="HOLC Sacramento Redlining" width="70%" height="70%"> </div> <p>Process Multispectral Data</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">earthaccess</span><span class="p">.</span><span class="nf">login</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="sh">"</span><span class="s">interactive</span><span class="sh">"</span><span class="p">,</span> <span class="n">persist</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sacramento_results</span> <span class="o">=</span> <span class="n">earthaccess</span><span class="p">.</span><span class="nf">search_data</span><span class="p">(</span>
    <span class="n">short_name</span><span class="o">=</span><span class="sh">"</span><span class="s">HLSL30</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">bounding_box</span><span class="o">=</span><span class="nf">tuple</span><span class="p">(</span><span class="n">sacramento_redlining_gdf</span><span class="p">.</span><span class="n">total_bounds</span><span class="p">),</span>
    <span class="n">temporal</span><span class="o">=</span><span class="p">(</span><span class="sh">"</span><span class="s">2024-07-11</span><span class="sh">"</span><span class="p">),</span>
    <span class="n">count</span><span class="o">=</span><span class="mi">30</span>
<span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">landsat_data</span> <span class="o">=</span> <span class="n">earthaccess</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="n">sacramento_results</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">process_image</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">bounds_gdf</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    Load, crop, and scale a raster image from earthaccess

    Parameters
    ----------
    uri: file-like or path-like
      File accessor downloaded or obtained from earthaccess
    bounds_gdf: gpd.GeoDataFrame
      Area of interest to crop to

    Returns
    -------
    cropped_da: rxr.DataArray
      Processed raster
    </span><span class="sh">"""</span>
    <span class="c1"># load and scale
</span>    <span class="n">da</span> <span class="o">=</span> <span class="n">rxr</span><span class="p">.</span><span class="nf">open_rasterio</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">mask_and_scale</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="nf">squeeze</span><span class="p">()</span>

    <span class="c1"># obtain crs from raster
</span>    <span class="n">reflectance_data_crs</span> <span class="o">=</span> <span class="n">da</span><span class="p">.</span><span class="n">rio</span><span class="p">.</span><span class="n">crs</span>

    <span class="c1"># match coordinate reference systems
</span>    <span class="n">bounds_gdf</span> <span class="o">=</span> <span class="n">bounds_gdf</span><span class="p">.</span><span class="nf">to_crs</span><span class="p">(</span><span class="n">reflectance_data_crs</span><span class="p">)</span>

    <span class="c1"># get study bounds da
</span>    <span class="n">study_bounds</span> <span class="o">=</span> <span class="n">bounds_gdf</span><span class="p">.</span><span class="n">total_bounds</span>

    <span class="c1"># crop
</span>    <span class="n">cropped_da</span> <span class="o">=</span> <span class="n">da</span><span class="p">.</span><span class="n">rio</span><span class="p">.</span><span class="nf">clip_box</span><span class="p">(</span>
      <span class="n">minx</span><span class="o">=</span><span class="n">study_bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
      <span class="n">miny</span><span class="o">=</span><span class="n">study_bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> 
      <span class="n">maxx</span><span class="o">=</span><span class="n">study_bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> 
      <span class="n">maxy</span><span class="o">=</span><span class="n">study_bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">cropped_da</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">process_cloud_mask</span><span class="p">(</span><span class="n">cloud_uri</span><span class="p">,</span> <span class="n">bits_to_mask</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    Load an 8-bit Fmask file and process to a boolean mask

    Parameters
    ----------
    uri: file-like or path-like
      Fmask file accessor downloaded or obtained from earthaccess
    bits_to_mask: list of int
      The indices of the bits to mask if set

    Returns
    -------
    cloud_mask: np.array
      Cloud mask
    </span><span class="sh">"""</span>
    <span class="n">cloud_da</span> <span class="o">=</span> <span class="n">rxr</span><span class="p">.</span><span class="nf">open_rasterio</span><span class="p">(</span><span class="n">cloud_uri</span><span class="p">,</span> <span class="n">mask_and_scale</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="nf">squeeze</span><span class="p">()</span>

    <span class="c1"># Get the cloud mask as bits
</span>    <span class="n">cloud_bits</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">np</span><span class="p">.</span><span class="nf">unpackbits</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="c1"># Get the cloud mask as an array...
</span>                <span class="n">cloud_da</span><span class="p">.</span><span class="n">values</span>
                <span class="c1"># ... of 8-bit integers
</span>                <span class="p">.</span><span class="nf">astype</span><span class="p">(</span><span class="sh">'</span><span class="s">uint8</span><span class="sh">'</span><span class="p">)</span>
                <span class="c1"># With an extra axis to unpack the bits into
</span>                <span class="p">[:,</span> <span class="p">:,</span> <span class="n">np</span><span class="p">.</span><span class="n">newaxis</span><span class="p">]</span>
            <span class="p">),</span> 
            <span class="c1"># List the least significat bit first to match the user guide
</span>            <span class="n">bitorder</span><span class="o">=</span><span class="sh">'</span><span class="s">little</span><span class="sh">'</span><span class="p">,</span>
            <span class="c1"># Expand the array in a new dimension
</span>            <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">)</span>
    
    <span class="c1"># Add up the bits for each pixel
</span>    <span class="n">cloud_mask</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span>
        <span class="c1"># Select bits 
</span>        <span class="n">cloud_bits</span><span class="p">[:,:,</span><span class="n">bits_to_mask</span><span class="p">],</span> 
        <span class="c1"># Sum along the bit axis
</span>        <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span>
    <span class="p">)</span>

    <span class="c1"># Mask the pixel if the sum is greater than 0
</span>    <span class="c1"># (If any of the bits are True)
</span>    <span class="n">cloud_mask</span> <span class="o">=</span> <span class="n">cloud_mask</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">cloud_mask</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Compile a regular expression to search for metadata
# Use () to select the desired name and only output that name
</span><span class="n">uri_re</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span>
    <span class="sa">r</span><span class="sh">"</span><span class="s">v2.0/(HLS.L30.*.tif)</span><span class="sh">"</span>
<span class="p">)</span>
<span class="c1"># Select unique granules
</span><span class="n">tile_id_re</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span>
    <span class="sa">r</span><span class="sh">"</span><span class="s">HLSL30.020/(HLS.L30..*.v2.0)/HLS</span><span class="sh">"</span>
<span class="p">)</span>
<span class="c1"># Grab band IDs
</span><span class="n">band_id_re</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span>
    <span class="sa">r</span><span class="sh">"</span><span class="s">HLS.L30..*v2.0.(\D{1}.*).tif</span><span class="sh">"</span>
<span class="p">)</span>

<span class="c1"># Find all the metadata in the file name 
</span><span class="n">uri_groups</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">uri</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">landsat_data</span><span class="p">):</span>
    <span class="c1"># Make sure uri has full_name property first
</span>    <span class="nf">if </span><span class="p">(</span><span class="nf">hasattr</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="sh">'</span><span class="s">full_name</span><span class="sh">'</span><span class="p">)):</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">uri_re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="n">full_name</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">tile_id</span> <span class="o">=</span> <span class="n">tile_id_re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="n">full_name</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">band_id</span> <span class="o">=</span> <span class="n">band_id_re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="n">full_name</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">uri_groups</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
            <span class="sh">'</span><span class="s">filename</span><span class="sh">'</span><span class="p">:</span> <span class="n">file_name</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">tile_id</span><span class="sh">'</span><span class="p">:</span> <span class="n">tile_id</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">band_id</span><span class="sh">'</span><span class="p">:</span> <span class="n">band_id</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">uri</span><span class="sh">'</span><span class="p">:</span> <span class="n">uri</span>
        <span class="p">})</span>

<span class="c1"># Create a DataFrame with the File-like URI
</span><span class="n">raster_df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">uri_groups</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">filename</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">tile_id</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">band_id</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">uri</span><span class="sh">'</span><span class="p">])</span>

<span class="c1"># Only keep spectral bands and cloud Fmask
</span><span class="n">exclude_files</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">VAA</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">VZA</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">SAA</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">SZA</span><span class="sh">'</span><span class="p">]</span>
<span class="c1"># Select data not in the excluded files list
</span><span class="n">raster_df</span> <span class="o">=</span> <span class="n">raster_df</span><span class="p">[</span><span class="o">~</span><span class="n">raster_df</span><span class="p">[</span><span class="sh">'</span><span class="s">band_id</span><span class="sh">'</span><span class="p">].</span><span class="nf">isin</span><span class="p">(</span><span class="n">exclude_files</span><span class="p">)]</span>

<span class="c1"># Check the results
</span><span class="n">raster_df</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Bands of interest
</span><span class="n">bands</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">'</span><span class="s">B02</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">red</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">B03</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">green</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">B05</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">nir</span><span class="sh">'</span>
<span class="p">}</span>
<span class="n">bits_to_mask</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span> <span class="c1"># Cloud
</span>    <span class="mi">2</span><span class="p">,</span> <span class="c1"># Adjacent to cloud
</span>    <span class="mi">3</span><span class="p">,</span> <span class="c1"># Cloud shadow
</span>    <span class="mi">5</span>  <span class="c1"># Water (to not confuse with greenspace)
</span><span class="p">]</span>
<span class="c1"># Initialize structure for saving images
</span><span class="n">sac_das</span> <span class="o">=</span> <span class="p">{</span><span class="n">band_name</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">band_name</span> <span class="ow">in</span> <span class="n">bands</span><span class="p">.</span><span class="nf">keys</span><span class="p">()}</span>

<span class="c1"># unique data granules
</span><span class="n">tile_groups</span> <span class="o">=</span> <span class="n">raster_df</span><span class="p">.</span><span class="nf">groupby</span><span class="p">(</span><span class="sh">'</span><span class="s">tile_id</span><span class="sh">'</span><span class="p">)</span>

<span class="k">for</span> <span class="n">tile_name</span><span class="p">,</span> <span class="n">tile_df</span> <span class="ow">in</span> <span class="n">tile_groups</span><span class="p">:</span>
    <span class="c1"># Grab Fmask row from tile group
</span>    <span class="n">Fmask_row</span> <span class="o">=</span> <span class="n">tile_df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">tile_df</span><span class="p">[</span><span class="sh">'</span><span class="s">band_id</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">Fmask</span><span class="sh">'</span><span class="p">]</span>
    <span class="c1"># Load the cloud mask
</span>    <span class="n">cloud_path</span> <span class="o">=</span> <span class="n">Fmask_row</span><span class="p">.</span><span class="n">uri</span><span class="p">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">cloud_mask</span> <span class="o">=</span> <span class="nf">process_cloud_mask</span><span class="p">(</span><span class="n">cloud_path</span><span class="p">,</span> <span class="n">bits_to_mask</span><span class="p">)</span>

    <span class="c1"># Load spectral bands
</span>    <span class="n">keep_bands</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">B03</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">B02</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">B05</span><span class="sh">'</span><span class="p">]</span>
    <span class="n">selected_bands_df</span> <span class="o">=</span> <span class="n">tile_df</span><span class="p">[</span><span class="n">tile_df</span><span class="p">[</span><span class="sh">'</span><span class="s">band_id</span><span class="sh">'</span><span class="p">].</span><span class="nf">isin</span><span class="p">(</span><span class="n">keep_bands</span><span class="p">)]</span>
    <span class="n">band_groups</span> <span class="o">=</span> <span class="n">selected_bands_df</span><span class="p">.</span><span class="nf">groupby</span><span class="p">(</span><span class="sh">'</span><span class="s">band_id</span><span class="sh">'</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">band_name</span><span class="p">,</span> <span class="n">band_df</span> <span class="ow">in</span> <span class="n">band_groups</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">band_df</span><span class="p">.</span><span class="nf">iterrows</span><span class="p">():</span>
            <span class="c1"># Process band
</span>            <span class="n">cropped_da</span> <span class="o">=</span> <span class="nf">process_image</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">sacramento_redlining_gdf</span><span class="p">)</span>

            <span class="c1"># Apply mask on band to remove unwanted cloud data
</span>            <span class="n">cloud_masked_da</span> <span class="o">=</span> <span class="n">cropped_da</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="o">~</span><span class="n">cropped_da</span><span class="p">.</span><span class="nf">isin</span><span class="p">(</span><span class="n">cloud_mask</span><span class="p">))</span>

            <span class="c1"># Store the resulting DataArray
</span>            <span class="n">sac_das</span><span class="p">[</span><span class="n">band_name</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">cloud_masked_da</span><span class="p">)</span>

</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sac_das_merged</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># Merge all tiles
</span><span class="k">for</span> <span class="n">band_name</span><span class="p">,</span> <span class="n">das</span> <span class="ow">in</span> <span class="n">sac_das</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
    <span class="n">merged</span> <span class="o">=</span> <span class="nf">merge_arrays</span><span class="p">(</span><span class="n">das</span><span class="p">)</span>
    <span class="n">sac_das_merged</span><span class="p">[</span><span class="n">band_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged</span>
</code></pre></div></div> <p>Inspect Reflectance</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span> 
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">axes</span><span class="p">()</span>

<span class="n">city_green_plt</span> <span class="o">=</span> <span class="n">sac_das_merged</span><span class="p">[</span><span class="sh">'</span><span class="s">B03</span><span class="sh">'</span><span class="p">].</span><span class="nf">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">Greens</span><span class="sh">'</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">cbar_kwargs</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">label</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Green</span><span class="sh">'</span><span class="p">})</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">'</span><span class="s">Green Reflectance</span><span class="sh">'</span><span class="p">)</span>
<span class="c1"># based on the CRS projection 
</span><span class="n">ax</span><span class="p">.</span><span class="nf">set_xlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">X (meters)</span><span class="sh">'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_ylabel</span><span class="p">(</span><span class="sh">'</span><span class="s">Y (meters)</span><span class="sh">'</span><span class="p">)</span>

<span class="n">fig</span><span class="p">.</span><span class="nf">savefig</span><span class="p">(</span><span class="sh">"</span><span class="s">/assets/img/sac_redlining/city-green-reflectance.png</span><span class="sh">"</span><span class="p">)</span> 

<span class="n">city_green_plt</span>
</code></pre></div></div> <div class="row" style="margin-top: 20px; margin-bottom: 20px; margin-left: 10px; margin-right: 10px;"> <img src="/assets/img/sac_redlining/city-green-reflectance.png" alt="Sacramento Green Reflectance" width="90%" height="90%"> </div> <p>Explore relationship between Normalized Difference Vegetation Index and HOLC grades</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Calculate Normalized Difference Vegetation Index (NDVI)
</span>
<span class="n">sac_ndvi</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="n">sac_das_merged</span><span class="p">[</span><span class="sh">'</span><span class="s">B05</span><span class="sh">'</span><span class="p">].</span><span class="n">values</span> <span class="o">-</span> <span class="n">sac_das_merged</span><span class="p">[</span><span class="sh">'</span><span class="s">B02</span><span class="sh">'</span><span class="p">].</span><span class="n">values</span><span class="p">)</span>
    <span class="o">/</span> <span class="p">(</span><span class="n">sac_das_merged</span><span class="p">[</span><span class="sh">'</span><span class="s">B05</span><span class="sh">'</span><span class="p">].</span><span class="n">values</span> <span class="o">+</span> <span class="n">sac_das_merged</span><span class="p">[</span><span class="sh">'</span><span class="s">B02</span><span class="sh">'</span><span class="p">].</span><span class="n">values</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">coords</span><span class="o">=</span> <span class="p">{</span>
    <span class="sh">'</span><span class="s">latitude</span><span class="sh">'</span><span class="p">:</span> <span class="n">sac_das_merged</span><span class="p">[</span><span class="sh">'</span><span class="s">B02</span><span class="sh">'</span><span class="p">].</span><span class="n">coords</span><span class="p">[</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">].</span><span class="n">values</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">longitude</span><span class="sh">'</span><span class="p">:</span> <span class="n">sac_das_merged</span><span class="p">[</span><span class="sh">'</span><span class="s">B02</span><span class="sh">'</span><span class="p">].</span><span class="n">coords</span><span class="p">[</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">].</span><span class="n">values</span>
<span class="p">}</span>

<span class="n">sac_ndvi_da</span> <span class="o">=</span> <span class="n">xr</span><span class="p">.</span><span class="nc">DataArray</span><span class="p">(</span><span class="n">sac_ndvi</span><span class="p">,</span> <span class="n">coords</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Obtain mask for zones
</span><span class="n">sac_redlining_mask</span> <span class="o">=</span> <span class="n">regionmask</span><span class="p">.</span><span class="nf">mask_geopandas</span><span class="p">(</span>
    <span class="n">sacramento_redlining_gdf</span><span class="p">.</span><span class="nf">to_crs</span><span class="p">(</span><span class="n">sac_das_merged</span><span class="p">[</span><span class="sh">'</span><span class="s">B02</span><span class="sh">'</span><span class="p">].</span><span class="n">rio</span><span class="p">.</span><span class="n">crs</span><span class="p">),</span> 
    <span class="n">sac_das_merged</span><span class="p">[</span><span class="sh">'</span><span class="s">B02</span><span class="sh">'</span><span class="p">].</span><span class="n">x</span><span class="p">,</span> <span class="c1"># meters
</span>    <span class="n">sac_das_merged</span><span class="p">[</span><span class="sh">'</span><span class="s">B02</span><span class="sh">'</span><span class="p">].</span><span class="n">y</span><span class="p">,</span> <span class="c1"># meters 
</span>    <span class="c1"># The regions do not overlap bc no lat/long coords
</span>    <span class="n">overlap</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="c1"># We're not using geographic coordinates
</span>    <span class="n">wrap_lon</span><span class="o">=</span><span class="bp">False</span>
<span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Calculate NDVI stats for each redlining zone
</span>
<span class="n">sac_ndvi_stats</span> <span class="o">=</span> <span class="nf">zonal_stats</span><span class="p">(</span><span class="n">zones</span><span class="o">=</span><span class="n">sac_redlining_mask</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">sac_ndvi_da</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Merge stats on the zone 
</span>
<span class="c1"># zone is on the index
</span><span class="n">sacramento_redlining_gdf</span><span class="p">.</span><span class="n">index</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Merge the NDVI stats with redlining geometry into one `GeoDataFrame` on zone index
</span><span class="n">sac_ndvi_gdf</span> <span class="o">=</span> <span class="n">sacramento_redlining_gdf</span><span class="p">.</span><span class="nf">merge</span><span class="p">(</span><span class="n">sac_ndvi_stats</span><span class="p">.</span><span class="nf">set_index</span><span class="p">(</span><span class="sh">'</span><span class="s">zone</span><span class="sh">'</span><span class="p">),</span> <span class="n">left_index</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Change grade to ordered Categorical for plotting
</span><span class="n">sac_ndvi_gdf</span><span class="p">.</span><span class="n">grade</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">Categorical</span><span class="p">(</span>
    <span class="n">sac_ndvi_gdf</span><span class="p">.</span><span class="n">grade</span><span class="p">,</span>
    <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="c1"># the grades are ordered
</span>    <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">A</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">B</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">C</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">D</span><span class="sh">'</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Drop rows with NA grades
</span><span class="n">sac_ndvi_gdf</span> <span class="o">=</span> <span class="n">sac_ndvi_gdf</span><span class="p">.</span><span class="nf">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="sh">"</span><span class="s">grade</span><span class="sh">"</span><span class="p">])</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Plot NDVI and redlining grade in linked subplots
</span><span class="p">(</span>
    <span class="n">sac_ndvi_gdf</span><span class="p">.</span><span class="nf">hvplot</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="sh">'</span><span class="s">NDVI</span><span class="sh">'</span><span class="p">,</span>
        <span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">mean</span><span class="sh">'</span><span class="p">,</span>
        <span class="n">geo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">Greens</span><span class="sh">'</span><span class="p">,</span>
        <span class="n">frame_width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
        <span class="n">frame_height</span><span class="o">=</span><span class="mi">400</span>
    <span class="p">)</span>
    <span class="o">+</span>
    <span class="n">sac_ndvi_gdf</span><span class="p">.</span><span class="nf">hvplot</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="sh">'</span><span class="s">HOLC Grades</span><span class="sh">'</span><span class="p">,</span>
        <span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">grade</span><span class="sh">'</span><span class="p">,</span>
        <span class="n">geo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">cet_rainbow4</span><span class="sh">'</span><span class="p">,</span>
        <span class="n">frame_width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
        <span class="n">frame_height</span><span class="o">=</span><span class="mi">400</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div> <div class="row" style="margin-top: 20px; margin-bottom: 20px; margin-left: 10px; margin-right: 10px;"> <img src="/assets/img/sac_redlining/ndvi_holc_grades.png" alt="NDVI and HOLC Grades" width="100%" height="100%"> </div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Convert categories to numbers
</span><span class="n">sac_ndvi_gdf</span><span class="p">[</span><span class="sh">'</span><span class="s">grade_codes</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="n">sac_ndvi_gdf</span><span class="p">.</span><span class="n">grade</span><span class="p">.</span><span class="n">cat</span><span class="p">.</span><span class="n">codes</span>

<span class="c1"># Fit model
</span><span class="n">tree_classifier</span> <span class="o">=</span> <span class="nc">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="mi">2</span><span class="p">).</span><span class="nf">fit</span><span class="p">(</span>
    <span class="n">sac_ndvi_gdf</span><span class="p">[[</span><span class="sh">'</span><span class="s">mean</span><span class="sh">'</span><span class="p">]],</span> <span class="c1"># predict with ndvi mean
</span>    <span class="n">sac_ndvi_gdf</span><span class="p">[</span><span class="sh">'</span><span class="s">grade_codes</span><span class="sh">'</span><span class="p">]</span> <span class="c1"># observed target
</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Plot results
</span>
<span class="n">sac_ndvi_gdf</span><span class="p">[</span><span class="sh">'</span><span class="s">predictions</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">tree_classifier</span><span class="p">.</span><span class="nf">predict</span><span class="p">(</span><span class="n">sac_ndvi_gdf</span><span class="p">[[</span><span class="sh">'</span><span class="s">mean</span><span class="sh">'</span><span class="p">]])</span>
<span class="p">)</span>

<span class="n">sac_ndvi_gdf</span><span class="p">[</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">sac_ndvi_gdf</span><span class="p">[</span><span class="sh">'</span><span class="s">predictions</span><span class="sh">'</span><span class="p">]</span> <span class="o">-</span>
    <span class="n">sac_ndvi_gdf</span><span class="p">[</span><span class="sh">'</span><span class="s">grade_codes</span><span class="sh">'</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">sac_ndvi_gdf</span><span class="p">.</span><span class="nf">hvplot</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="sh">'</span><span class="s">Grade Prediction Error</span><span class="sh">'</span><span class="p">,</span>
    <span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">,</span>
    <span class="n">geo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">frame_width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
    <span class="n">frame_height</span><span class="o">=</span><span class="mi">500</span>
<span class="p">)</span>
</code></pre></div></div> <div class="row" style="margin-top: 20px; margin-bottom: 20px; margin-left: 10px; margin-right: 10px;"> <img src="/assets/img/sac_redlining/holc_grade_prediction_error.png" alt="HOLC Grade Prediction Error" width="70%" height="70%"> </div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Evaluate the model with cross-validation
</span>
<span class="n">results</span> <span class="o">=</span> <span class="nf">cross_val_score</span><span class="p">(</span>
    <span class="nc">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
    <span class="n">sac_ndvi_gdf</span><span class="p">[[</span><span class="sh">'</span><span class="s">mean</span><span class="sh">'</span><span class="p">]],</span>
    <span class="n">sac_ndvi_gdf</span><span class="p">[</span><span class="sh">'</span><span class="s">grade_codes</span><span class="sh">'</span><span class="p">],</span>
    <span class="n">cv</span><span class="o">=</span><span class="mi">4</span> <span class="c1"># reduce folds because of small dataset
</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">Results: </span><span class="si">{</span><span class="n">results</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">Results</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.57142857</span> <span class="mf">0.42857143</span> <span class="mf">0.64285714</span> <span class="mf">0.42857143</span><span class="p">]</span>

</code></pre></div></div> <h4 id="discussion">Discussion</h4> <p>The legacy of redlining has siloed communities of color in areas that are more likely to lack green space and be located closer to environmental hazards (Thomas, 2022). The observed environmental injustices imposed in redlined neighborhoods are extensive with impacts ranging across communities:</p> <ul> <li>Today, approximately 43% of Black Americans live in urban “heat islands” which contain minimal tree cover and large amounts of exposed asphalt and concrete which retain heat and increase ambient temperature. These neighborhoods are up to 12.6°F warmer than non-redlined neighborhoods. Extreme heat events are also exacerbated in redlined areas, with Black Americans incurring higher rates of heat-related deaths and illnesses than white communities.</li> <li>Compared to Latinx Americans, white communities are 21% less likely to live in a heat island. Additionally, over 4.3 million Latinx families live in homes without access to air-conditioning. Air pollution is another great concern: about 50% of Latinx individuals live in areas which violate clean air and ozone standards.</li> <li>Urban heat islands magnify impacts of diminished indoor air quality as well which has been attributed to asthma rates in tribal communities that are nearly double the U.S. average. Furthermore, the inequitable distribution of urban green space coincides with other forms of systemic racism and their impacts, such as government displacement of tribal communities and sparse access to safe running water.</li> <li>On average, 50% of Asian American communities have reduced access to shaded green spaces and 32% of Asian Americans live in neighborhoods where heat-retaining surfaces cover more than half of the ground. Moreover, Southeast and South Asian communities have the 4th and 5th highest risk of cancer due to air pollution. Compared to other racial groups, Chinese and Korean Americans have the largest mean cancer risk from air pollution exposure.</li> </ul> <p>Robert Bullard, the “father of environmental justice” in the United States, asserted in a 2018 <a href="https://www.theguardian.com/commentisfree/2018/dec/20/robert-bullard-interview-environmental-justice-civil-rights-movement" rel="external nofollow noopener" target="_blank">interview</a> that inequity in neighborhoods is not just about proximity to hazards, but also limited access to elements that foster healthy communities: “Communities of color don’t get a fair share of the good stuff – parks, green spaces, nature trails, good schools, farmers markets, good stores. They get less of all the things that make communities healthy and get more of their fair share of the bad stuff.” This is phenomenon is reflected in the HOLC area descriptions. The <a href="https://dsl.richmond.edu/panorama/redlining/data/CA-Sacramento" rel="external nofollow noopener" target="_blank">HOLC security map</a> for Sacramento described one “B” area as a “new subdivision, located in a natural oak grove” with homogenous improvements and population, high class construction, and favorable influences encompassing schools, churches, and trading facilities. On the contrary, “D” areas were described as having detrimental influences such as a heterogeneous population and the absence of building improvements.</p> <p>We can inspect landsat data for the redlining differences in vegetation (see Green Reflectance plot), however there is not a significant decrease in green radiation until a plant is extremely stressed. A more useful indicator of healthy vegetation is the comparison of Near-InfraRed (NIR) to red reflectance, calculated by the Normalized Difference Vegetation Index (NDVI). For each redlining zone, the NDVI was assessed (see NDVI vs. HOLC Grades plot). A simple decision tree classifier performs fairly well in predicting the HOLC grade based on the mean NDVI. Given the 4 target grades and scores rising well above 25% accuracy, this suggests a moderate to mid-high dependency between NDVI and HOLC grade.</p> <h4 id="references">References</h4> <p>Barrett, A., Battisto, C., J. Bourbeau, J., Fisher, M., Kaufman, D., Kennedy, J., … Steiker, A. (2024). <em>earthaccess</em> (Version 0.12.0) [Computer software]. Zenodo. https://doi.org/10.5281/zenodo.8365009</p> <p>Collins, B., Hetzel, J. T., &amp; Metzger, T. C. (2024). <em>xarray-spatial</em> (Version 0.4.0) [Computer software]. GitHub. https://github.com/makepath/xarray-spatial/releases/tag/v0.4.0</p> <p>Harris, C. R., Millman, K. J., J. van der Walt, S., Gommers, R., Virtanen, P., Cournapeau, D., … Oliphant, T. E. (2020). Array programming with NumPy. <em>Nature, 585</em>, 357–362. https://doi.org/10.1038/s41586-020-2649-2</p> <p>Hauser, M., Spring, A., Busecke, J., van Driel, M., &amp; Lorenz, R. (2024). <em>regionmask/regionmask: version 0.12.1</em> (Version 0.12.1) [Computer software]. Zenodo. https://doi.org/10.5281/zenodo.3585542</p> <p>Hoyer, S. &amp; Hamman, J., (2017). xarray: N-D labeled arrays and datasets in Python. <em>Journal of Open Research Software. 5</em>(1), 10. https://doi.org/10.5334/jors.148</p> <p>Hunter, J. D. (2024). <em>Matplotlib: A 2D graphics environment</em> (Version 3.9.2) [Computer software]. Zenodo. https://zenodo.org/records/13308876</p> <p>Jordahl, K., Van den Bossche, J., Fleischmann, M., Wasserman, J., McBride, J., Gerard, J., … Leblanc, F. (2024). <em>geopandas/geopandas: v1.0.1</em> (Version 1.0.1) [Computer software]. Zenodo. https://doi.org/10.5281/zenodo.12625316</p> <p>Met Office. (2024). <em>Cartopy: a cartographic python library with a Matplotlib interface</em> (Version 0.24.1) [Computer software]. Zenodo. https://doi.org/10.5281/zenodo.13905945</p> <p>Michney, T. M. (n.d.). How and why the Home Owners’ Loan Corporation made its redlining maps. Mapping Inequality. https://dsl.richmond.edu/panorama/redlining/howandwhy</p> <p>Milman, O. (2018, December 20). Robert Bullard: “Environmental justice isn’t just slang, it’s real”. The Guardian. https://www.theguardian.com/commentisfree/2018/dec/20/robert-bullard-interview-environmental-justice-civil-rights-movement</p> <p>Python Software Foundation. (2024). <em>Python</em> (Version 3.12.6) [Computer software]. https://docs.python.org/release/3.12.6</p> <p>Rudiger, P., Liquet, M., Signell, J., Hansen, S. H., Bednar, J. A., Madsen, M. S., … Hilton, T. W. (2024). <em>holoviz/hvplot: Version 0.11.0</em> (Version 0.11.0) [Computer software]. Zenodo. https://doi.org/10.5281/zenodo.13851295</p> <p>Snow, A. D., Scott, R., Raspaud, M., Brochart, D., Kouzoubov, K., Henderson, S., … Weidenholzer, L. (2024). <em>corteva/rioxarray: 0.18.1 Release</em> (Version 0.18.1) [Computer software]. Zenodo. https://doi.org/10.5281/zenodo.4570456</p> <p>The pandas development team. (2024). <em>pandas-dev/pandas: Pandas</em> (Version 2.2.2) [Computer software]. Zenodo. https://doi.org/10.5281/zenodo.3509134</p> <p>The scikit-learn developers. (2024). scikit-learn (1.5.2). [Computer software]. Zenodo. https://doi.org/10.5281/zenodo.13749328</p> <p>Thomas, L. (2022). <em>The intersectional environmentalist: How to dismantle systems of oppression to protect people + planet</em>. Little, Brown and Company.</p> <p>Zimring, C. A. (2015). <em>Clean and white: A history of environmental racism in the United States.</em> New York University Press.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Lauren Alexandra. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-projects",title:"projects",description:"",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-cv",title:"cv",description:"",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"post-google-gemini-updates-flash-1-5-gemma-2-and-project-astra",title:'Google Gemini updates: Flash 1.5, Gemma 2 and Project Astra <svg width="1.2rem" height="1.2rem" top=".5rem" viewbox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg>',description:"We\u2019re sharing updates across our Gemini family of models and a glimpse of Project Astra, our vision for the future of AI assistants.",section:"Posts",handler:()=>{window.open("https://blog.google/technology/ai/google-gemini-update-flash-ai-assistant-io-2024/","_blank")}},{id:"post-a-post-with-tabs",title:"a post with tabs",description:"this is what included tabs in a post could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/tabs/"}},{id:"post-a-post-with-typograms",title:"a post with typograms",description:"this is what included typograms code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/typograms/"}},{id:"post-a-post-that-can-be-cited",title:"a post that can be cited",description:"this is what a post that can be cited looks like",section:"Posts",handler:()=>{window.location.href="/blog/2024/post-citation/"}},{id:"post-a-post-with-pseudo-code",title:"a post with pseudo code",description:"this is what included pseudo code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/pseudocode/"}},{id:"post-a-post-with-code-diff",title:"a post with code diff",description:"this is how you can display code diffs",section:"Posts",handler:()=>{window.location.href="/blog/2024/code-diff/"}},{id:"post-a-post-with-advanced-image-components",title:"a post with advanced image components",description:"this is what advanced image components could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/advanced-images/"}},{id:"post-a-post-with-vega-lite",title:"a post with vega lite",description:"this is what included vega lite code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/vega-lite/"}},{id:"post-a-post-with-geojson",title:"a post with geojson",description:"this is what included geojson code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/geojson-map/"}},{id:"post-a-post-with-echarts",title:"a post with echarts",description:"this is what included echarts code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/echarts/"}},{id:"post-a-post-with-chart-js",title:"a post with chart.js",description:"this is what included chart.js code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/chartjs/"}},{id:"post-a-post-with-tikzjax",title:"a post with TikZJax",description:"this is what included TikZ code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2023/tikzjax/"}},{id:"post-a-post-with-bibliography",title:"a post with bibliography",description:"an example of a blog post with bibliography",section:"Posts",handler:()=>{window.location.href="/blog/2023/post-bibliography/"}},{id:"post-a-post-with-jupyter-notebook",title:"a post with jupyter notebook",description:"an example of a blog post with jupyter notebook",section:"Posts",handler:()=>{window.location.href="/blog/2023/jupyter-notebook/"}},{id:"post-a-post-with-custom-blockquotes",title:"a post with custom blockquotes",description:"an example of a blog post with custom blockquotes",section:"Posts",handler:()=>{window.location.href="/blog/2023/custom-blockquotes/"}},{id:"post-a-post-with-table-of-contents-on-a-sidebar",title:"a post with table of contents on a sidebar",description:"an example of a blog post with table of contents on a sidebar",section:"Posts",handler:()=>{window.location.href="/blog/2023/sidebar-table-of-contents/"}},{id:"post-a-post-with-audios",title:"a post with audios",description:"this is what included audios could look like",section:"Posts",handler:()=>{window.location.href="/blog/2023/audios/"}},{id:"post-a-post-with-videos",title:"a post with videos",description:"this is what included videos could look like",section:"Posts",handler:()=>{window.location.href="/blog/2023/videos/"}},{id:"post-displaying-beautiful-tables-with-bootstrap-tables",title:"displaying beautiful tables with Bootstrap Tables",description:"an example of how to use Bootstrap Tables",section:"Posts",handler:()=>{window.location.href="/blog/2023/tables/"}},{id:"post-a-post-with-table-of-contents",title:"a post with table of contents",description:"an example of a blog post with table of contents",section:"Posts",handler:()=>{window.location.href="/blog/2023/table-of-contents/"}},{id:"post-a-post-with-giscus-comments",title:"a post with giscus comments",description:"an example of a blog post with giscus comments",section:"Posts",handler:()=>{window.location.href="/blog/2022/giscus-comments/"}},{id:"post-displaying-external-posts-on-your-al-folio-blog",title:'Displaying External Posts on Your al-folio Blog <svg width="1.2rem" height="1.2rem" top=".5rem" viewbox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg>',description:"",section:"Posts",handler:()=>{window.open("https://medium.com/@al-folio/displaying-external-posts-on-your-al-folio-blog-b60a1d241a0a?source=rss-17feae71c3c4------2","_blank")}},{id:"post-a-post-with-redirect",title:"a post with redirect",description:"you can also redirect to assets like pdf",section:"Posts",handler:()=>{window.location.href="/assets/pdf/example_pdf.pdf"}},{id:"post-a-post-with-diagrams",title:"a post with diagrams",description:"an example of a blog post with diagrams",section:"Posts",handler:()=>{window.location.href="/blog/2021/diagrams/"}},{id:"post-a-distill-style-blog-post",title:"a distill-style blog post",description:"an example of a distill-style blog post and main elements",section:"Posts",handler:()=>{window.location.href="/blog/2021/distill/"}},{id:"post-a-post-with-twitter",title:"a post with twitter",description:"an example of a blog post with twitter",section:"Posts",handler:()=>{window.location.href="/blog/2020/twitter/"}},{id:"post-a-post-with-disqus-comments",title:"a post with disqus comments",description:"an example of a blog post with disqus comments",section:"Posts",handler:()=>{window.location.href="/blog/2015/disqus-comments/"}},{id:"post-a-post-with-math",title:"a post with math",description:"an example of a blog post with some math",section:"Posts",handler:()=>{window.location.href="/blog/2015/math/"}},{id:"post-a-post-with-code",title:"a post with code",description:"an example of a blog post with some code",section:"Posts",handler:()=>{window.location.href="/blog/2015/code/"}},{id:"post-a-post-with-images",title:"a post with images",description:"this is what included images could look like",section:"Posts",handler:()=>{window.location.href="/blog/2015/images/"}},{id:"post-a-post-with-formatting-and-links",title:"a post with formatting and links",description:"march & april, looking forward to summer",section:"Posts",handler:()=>{window.location.href="/blog/2015/formatting-and-links/"}},{id:"news-a-simple-inline-announcement",title:"A simple inline announcement.",description:"",section:"News"},{id:"news-a-long-announcement-with-details",title:"A long announcement with details",description:"",section:"News",handler:()=>{window.location.href="/news/announcement_2/"}},{id:"news-a-simple-inline-announcement-with-markdown-emoji-sparkles-smile",title:'A simple inline announcement with Markdown emoji! <img class="emoji" title=":sparkles:" alt=":sparkles:" src="https://github.githubassets.com/images/icons/emoji/unicode/2728.png" height="20" width="20"> <img class="emoji" title=":smile:" alt=":smile:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" height="20" width="20">',description:"",section:"News"},{id:"projects-basin-inflow",title:"Basin Inflow",description:"Regional Hydroclimate Deep Neural Network",section:"Projects",handler:()=>{window.location.href="/projects/basin-inflow/"}},{id:"projects-habitat-suitability",title:"Habitat Suitability",description:"Blue Oak",section:"Projects",handler:()=>{window.location.href="/projects/habitat-suitability/"}},{id:"projects-land-classification",title:"Land Classification",description:"Lower Putah Creek Watershed",section:"Projects",handler:()=>{window.location.href="/projects/land-classification/"}},{id:"projects-sacramento-redlining",title:"Sacramento Redlining",description:"Greenspace Analysis",section:"Projects",handler:()=>{window.location.href="/projects/sacramento-redlining/"}},{id:"projects-willow-flycatcher",title:"Willow Flycatcher",description:"Species Distribution",section:"Projects",handler:()=>{window.location.href="/projects/species-distribution/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%6C%61%75%72%65%6E@%6C%61%75%72%65%6E%61%6C%65%78%61%6E%64%72%61.%69%6F","_blank")}},{id:"socials-github",title:"GitHub",section:"Socials",handler:()=>{window.open("https://github.com/lauren-alexandra","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/lauren-alexandra","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>